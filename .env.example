# --------------------------------------------------------------------------
#               Enhanced Document Converter Configuration
# --------------------------------------------------------------------------
#
# Copy this file to .env and fill in the values for the services you want to use.
#
# === MISTRAL OCR CONFIGURATION (Required for OCR features) ===
# Your Mistral AI API key. Get one from the Mistral platform.
MISTRAL_API_KEY="your_mistral_api_key_here"
# The OCR model to use. 'mistral-ocr-latest' is recommended.
MISTRAL_OCR_MODEL=mistral-ocr-latest
# Whether to extract images from documents during OCR. (true/false)
MISTRAL_INCLUDE_IMAGES=true
# NEW: Whether Mistral should generate descriptions (annotations) for extracted images. (true/false)
MISTRAL_INCLUDE_IMAGE_ANNOTATIONS=true
# Save the raw JSON response from Mistral for debugging purposes. (true/false)
# Files will be saved in the 'logs/' directory.
SAVE_MISTRAL_JSON=false
# Timeout for HTTP requests to the Mistral API, in seconds.
MISTRAL_HTTP_TIMEOUT=300
# === MARKITDOWN LLM & AZURE CONFIGURATION (Optional) ===
# Use an LLM (like GPT-4o) to generate descriptions for images found in documents.
# Requires an OpenAI-compatible API key.
MARKITDOWN_USE_LLM=false
MARKITDOWN_LLM_MODEL=gpt-4o-mini
OPENAI_API_KEY="your_openai_api_key_here"
# Use Azure Document Intelligence for enhanced PDF processing through Markitdown.
# Requires an Azure account and a Document Intelligence resource.
AZURE_DOC_INTEL_ENDPOINT=""
AZURE_DOC_INTEL_KEY=""

# === MARKITDOWN ADVANCED SETTINGS (Optional) ===
#
# Control specific behaviors of the Markitdown engine.
#
# Table strategy: 'ocr_only', 'text_only', 'auto' (default)
MARKITDOWN_TABLE_STRATEGY=auto
# Image extraction strategy: 'extract', 'ignore', 'auto' (default)
MARKITDOWN_IMAGE_STRATEGY=auto
# PDF processing mode (if Azure Doc Intel is not used): 'auto' (default), 'text', 'ocr'
MARKITDOWN_PDF_MODE=auto

# === PERFORMANCE & PROCESSING SETTINGS ===
# The number of files to process in a single batch in batch mode.
BATCH_SIZE=5
# The maximum number of times to retry a failed network request.
MAX_RETRIES=3
# The delay in seconds between retries (used as base for exponential backoff).
RETRY_DELAY=5
# The file size in MB above which files are uploaded to Mistral instead of
# being sent in a base64-encoded request.
LARGE_FILE_THRESHOLD_MB=45
# NEW: Duration in hours to keep cached results (used by IntelligentCache).
CACHE_DURATION_HOURS=24

# === SYSTEM PATHS (Optional) ===
# Required for the "PDF to Images" feature.
# Provide the absolute path to the 'bin' directory of your Poppler installation.
# On Linux/macOS, this is often not needed if Poppler is installed via a package manager.
# Windows example: POPPLER_PATH="C:\path\to\poppler-23.08.0\bin"
POPPLER_PATH=""
